### Simple API
---

Crear una carpeta con el nombre del proyecto - **`movies`**

```bash
mkdir movies
```

Entrar en la carpeta y crear otra con el nombre **`server`**

```bash
cd movies
mkdir server
```

Ejecutar comando de creaci√≥n de fichero **`.json`**

```bash
cd server
npm init -y 
```

**`package.json`** ‚Üí Fichero de gestor de paquetes que trabaja con npm.

**express ‚Üí** Es una librer√≠a que nos ayuda a crear una Api Rest: Gestionar m√©todos propios de la librer√≠a.

```bash
npm i express
```

**`package.json`** ‚Üí dependencies

```json
"dependencies": {
    "express": "^4.17.3"
  }
```

> *dependencies : son dependencias o librer√≠as que necesita nuestro proyecto.
> 

**mongoose** ‚Üí Es una librer√≠a que me permite interactuar y conectarme a DB.

```bash
npm i mongoose
```

**`package.json`** ‚Üí dependencies

```json
"dependencies": {
    "express": "^4.17.3",
		"mongoose": "^6.2.4"
  }
```

**dotenv** ‚Üí Es una librer√≠a que nos permite tener variables de configuraci√≥n o de entorno.

```bash
npm i dotenv
```

**`package.json`** ‚Üí dependencies

```json
"dependencies": {
		"dotenv": "^16.0.0",
    "express": "^4.17.3",
		"mongoose": "^6.2.4"
  }
```

**cors** ‚Üí Librer√≠a para gesti√≥n de proxies | ‚ÄúURL‚Äù permitidas.

```bash
npm i cors
```

**`package.json`** ‚Üí dependencies

```json
"dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.0.0",
    "express": "^4.17.3",
    "mongoose": "^6.2.4"
  }
```

**body-parser** ‚Üí Librer√≠a que nos ayuda a transformar la data.

```bash
npm i body-parser
```

**`package.json`** ‚Üí dependencies

```json
"dependencies": {
    "body-parser": "^1.19.2",
    "cors": "^2.8.5",
    "dotenv": "^16.0.0",
    "express": "^4.17.3",
    "mongoose": "^6.2.4"
  }
```

**nodemon** ‚Üí Librer√≠a que nos ayuda a transformar la data.

```bash
npm i nodemon -D
```

**`package.json`** ‚Üí dev dependencies

```json
"devDependencies": {
    "nodemon": "^2.0.15"
  }
```

> *devdependencies : son dependencias o librer√≠as que necesita nuestro proyecto en el desarrollo pero no en la puesta a producci√≥n.
> 

**morgan** ‚Üí Librer√≠a que nos ayuda a ver las peticiones lanzadas.

```bash
npm i morgan -D
```

**`package.json`** ‚Üí dev dependencies

```json
"devDependencies": {
    "morgan": "^1.10.0",
    "nodemon": "^2.0.15"
  }
```

**Configuraci√≥n del package.json**
---

A√±adimos los campos necesarios como autor, licencia, descripci√≥n... pero lo m√°s importante son los scripts de ejecuci√≥n de **`npm`**.

```bash
{
  "name": "server",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "dev": "nodemon index.js"
  },
  "keywords": ["Node", "Nodemon", "Mongo", "Mongoose", "Cors"],
  "author": "Alberto Rivera",
  "license": "ISC",
  "dependencies": {
    "body-parser": "^1.19.2",
    "cors": "^2.8.5",
    "dotenv": "^16.0.0",
    "express": "^4.17.3",
    "mongoose": "^6.2.4"
  },
  "devDependencies": {
    "morgan": "^1.10.0",
    "nodemon": "^2.0.15"
  }
}
```

```bash
npm run start -> arranca con node [no escucha cambios - parar y arrancar]
npm run dev -> arranca con nodemon [escucha cambios - no hace falta parar]
```

Si cog√©is otro **`package.json`** o este de referencia pod√©is lanzar un **`npm i`** en vuestra terminal y os instala todos los paquetes seg√∫n el fichero de configuraci√≥n.

**Estructura de carpetas**
---

Dentro de server me creo una carpeta **`src`** [source]‚Üí hace referenci al c√≥digo de mi aplicaci√≥n ‚Üí Dentro genero dos carpetas **`api`** [endpoints] y **`utils`** [utilidades transversales].

```jsx
üìÅserver
	|-üìÅnode_modules
	|-üìÅsrc
		|-üìÅapi
		|-üìÅutils
	|-üìápackage-lock.json
	|-üìápackage.json
```

**Generar .env**
---

El **`.env`** es el fichero de variables de entorno o configuraci√≥n - lo gestionamos con el paquete dotenv. Lo a√±adimos a nivel de la carpeta ra√≠z [**`server`**].

```jsx
üìÅserver
	|-üìÅnode_modules
	|-üìÅsrc
		|-üìÅapi
		|-üìÅutils
	|-üìá.env
	|-üìápackage-lock.json
	|-üìápackage.json
```

Dotar mis variables de entorno. En nuestro caso la **`URI`** de Mongo y el **`PORT`**

```
MONGO_DB=mongodb+srv://USERNAME:PASSWORD@cluster0.b72ye.mongodb.net/NOMBREPROJECT?retryWrites=true&w=majority
PORT=8000
```

**Generar mi .gitignore**
---

Es un fichero que indica a git ‚Üí repositorio ‚Üí qu√© subir y qu√© no subir. Lo a√±adimos a nivel de la carpeta ra√≠z [**`server`**].

```jsx
üìÅserver
	|-üìÅnode_modules
	|-üìÅsrc
		|-üìÅapi
		|-üìÅutils
	|-üìá.env
	|-üìá.gitignore
	|-üìápackage-lock.json
	|-üìápackage.json
```

Dentro del fichero **`.gitignore`** debemos a√±adir el siguiente contenido.

```
/node_modules

/.env
```

**DB Connect**
---

Una carpeta dentro de **`utils`** ‚Üí **`database`** ‚Üí un fichero **`db.js`**

```jsx
üìÅserver
	|-üìÅnode_modules
	|-üìÅsrc
		|-üìÅapi
		|-üìÅutils
			|-üìÅdatabase
				|-üìádb.js
	|-üìá.env
	|-üìá.gitignore
	|-üìápackage-lock.json
	|-üìápackage.json
```

Y el contenido es el siguiente.

```jsx
// Importar con ES5
// Requerimos la librer√≠a
const dotenv = require('dotenv');
// Ejecutamos m√©todo para usar .env
dotenv.config();
// Requerimos la librer√≠a para conectarnos a nuestra DB
const mongoose = require('mongoose');

// URI de mongo recuperada del .env
const mongoDb = process.env.MONGO_DB;

// Mi conexi√≥n es async -> no se conecta inmediatamente
const connect = async () => {
    // Donde intentaremos conectarnos
    try {
        // M√©todo de Mongoose 
        // 1- Param URI [donde quiero que te conectes]
        // 2- Param {configuraci√≥n} -> Parsear los datos de url
        const db = await mongoose.connect(mongoDb, { useNewUrlParser: true, useUnifiedTopology: true })
        // Nombre de DB y el Host en el que est√°
        const { name, host } = db.connection;
        console.log(`Conectado a la DB üëÄ: ${name} en el host‚ù§Ô∏è: ${host}`);
    } catch (error) {
        console.error(`No se ha podido conectar a la DB üíî`, error)
    }
}

//exportarla para usarla en otro punto - index.js
// Exportar funciones con ES5
module.exports = { connect };
```

**Configuraci√≥n de nuestro fichero de entrada ‚Üí `index.js`**
---

Lo primero es crear nuestro fichero **`index.js`** en la carpeta ra√≠z [**`server`**]

```bash
cd server
touch index.js
```

Y el c√≥digo es.

```jsx
// Importar Express -> M√©todos o funciones para gestionar mi server
const express = require('express');
// Importar Cors -> Librer√≠a que gestiiona proxies o urls permitadas
const cors = require('cors');
// Importar Body-parser -> Librer√≠a transformaci√≥n de datos
const bodyParser = require('body-parser');

// M√©todo de conexi√≥n de la DB
const { connect } = require('./src/utils/database/db');

// Ejecutar mi funci√≥n de conexi√≥n a la DB
connect();

// Inicializar Express
const app = express();

// Transformaci√≥n de datos
app.use(bodyParser.json());

// No codifica caracteres reservador que tienene un significado especial en la URI.
app.use(bodyParser.urlencoded({
    extended: false
}));

// Config de Proxies + CORS
app.use(cors());

// Cargar las rutas
app.use('/public', express.static('public'));

// // Nuestro primer EndPoint - PROVISIONAL
app.use('/api', (req, res, next) => "im alive")

// Seleccionar Puerto del .env y si no existe poner 8080
const PORT = process.env.PORT || 8080;

// Escuchadores d enuestro server
const server = app.listen(PORT, () => {
    console.log(`Server listening on port üôà: ${PORT}`)
});

// Capturador de Error
app.use((req, res, next) => {
    setImmediate(() => {
        next(new Error('Something went wrong'));
    });
});

// Errores del server 500
app.use(function (err, req, res, next) {
    console.error(err.message);
    if (!err.statusCode) err.statusCode = 500;
    res.status(err.statusCode).send(err.message);
});
```

**Crear Modelos**

---

Lo primero es definir la estructura de datos con la que queremos trabajar, en nuestro ser√° una lista de Pel√≠culas y otra de Actores. Por lo tanto una Pel√≠cula puede contener ‚Äòn‚Äô de actores.

Dentro de la carpeta **`api`** ‚Üí **`actors`** | **`movies`**. Y en cada una de ellas vamos a crear los ficheros sobre los que trabajaremos.

```jsx
üìÅserver
	|-üìÅnode_modules
	|-üìÅsrc
		|-üìÅapi
			|-üìÅactors
				|-üìáactor.controller.js
				|-üìáactor.routes.js
				|-üìáactor.model.js
			|-üìÅmovies
				|-üìámovies.controller.js
				|-üìámovies.routes.js
				|-üìámovies.model.js
		|-üìÅutils
			|-üìÅdatabase
				|-üìádb.js
	|-üìá.env
	|-üìá.gitignore
	|-üìápackage-lock.json
	|-üìápackage.json
```

Ahora que ya tenemos los ficheros vamos a comenzar a definir nuestros modelos de datos, es decir **`actors.model.js`** | **`movies.model.js`** .

**`actors.model.js`** podemos usar el siguiente modelo.

```jsx
// Requerir la librer√≠a de mongoose
const mongoose = require('mongoose');
// Creamos un SCHEMA -> Es un m√©todo de una clase que nos permite definir un modelo de datos.
const actorSchema = new mongoose.Schema(
    // Type: es el tipo de dato
    // Required: si es un campo obligatorio
    // Trim: elimina los espacios al principio y final
    {
        name: { type: String, required: true, trim: true },
        age: { type: Number, required: false, trim: true }
    },
    // Timestamps: fecha de creaci√≥n - modificaci√≥n
    {
        timestamps: true
    }
);

// Guardar en Actor la referencia y el Schema
// actors - es el nombre de mi colecci√≥n en la DB
const Actor = mongoose.model('actors', actorSchema);
// Exportar ES5
module.exports = Actor;
```

**`movies.model.js`** podemos usar el siguiente modelo.

```jsx
// Requerir la librer√≠a de mongoose
const mongoose = require('mongoose');

// Creamos un SCHEMA -> Es un m√©todo de una clase que nos permite definir un modelo de datos.
const movieSchema = new mongoose.Schema(
    // Type: es el tipo de dato
    // Required: si es un campo obligatorio
    // Trim: elimina los espacios al principio y final
    {
        name: { type: String, required: true, trim: true },
        year: { type: Number, required: false, trim: true },
        // Este es un array de ids - que hace referencia al modelo de actors
        actors: [{ type: mongoose.Schema.Types.ObjectId, ref: "actors", required: true }]
    },
    // Timestamps: fecha de creaci√≥n - modificaci√≥n
    {
        timestamps: true
    }
);

// Guardar en Actor la referencia y el Schema
// movies - es el nombre de mi colecci√≥n en la DB
const Movie = mongoose.model('movies', movieSchema);
// Exportar ES5
module.exports = Movie;
```

**Generando los Controllers**
---

Un controlador es un conjunto de funciones | acciones que solicitan, env√≠an, eliminan o modifican la info de la DB.

**`actors.controller.js`** determinamos las funciones asociadas a las rutas.

```jsx
const Actor = require('./actors.model');

// Metodo para recuperar todos los actores de nuestra DB
const getAll = async (req, res, next) => {
    try {
        // find es un m√©todo de mongoose para recuperar todos los actores
        const actors = await Actor.find();
        // res - es loq ue enviaremos al frontal
        // cabecera - status 200 Todo OK
        // cuerpo -> actors - json
        res.status(200).json(actors);
    } catch (error) {
        return next(error)
    }
}

// Metodo para recuperar un actor de nuestra DB
const getOne = async (req, res, next) => {
    try {
        // req -> recuperar valores de la request: http://jdhfjdh....10 
        const { id } = req.params;
        // findById en el que por param recibe un id y te lo busca
        const actor = await Actor.findById(id);
        res.status(200).json(actor);
    } catch (error) {
        return next(error)
    }
}

// M√©todo para crear un nuevo actor
const postOne = async (req, res, next) => {
    try {
        // Nuevo actor para introducir los datos del front
        const actor = new Actor();
        // Este body es la info que nos llega desde el front
        actor.name = req.body.name;
        actor.age = req.body.age;
        // M√©todo de mongoose - que guarda el actor en la DB
        const actorDB = await actor.save();
        return res.status(201).json(actorDB)
    } catch (error) {
        return next(error)
    }
}

// M√©todo para modificar un actor en base a su id
const patchOne = async (req, res, next) => {
    try {
        const { id } = req.params;
        const actor = new Actor(req.body);
        // id nos lo generan y es un numero √∫nico
        actor._id = id;
        // updatear el actor -> M√©todo de mongoose - que sustituye el actor en la DB
        // Param 1- el id recuperado
        // param 2 - el actor con la info del front
        const updateActor = await Actor.findByIdAndUpdate(id, actor);
        return res.status(200).json(updateActor);
    } catch (error) {
        return next(error);
    }
}

// M√©todo para eliminar un actor en base a su id
const deleteOne = async (req, res, next) => {
    try {
        const { id } = req.params;
        // borrar el actor -> M√©todo de mongoose - que borra el actor en la DB por el id recuperado
        const actor = await Actor.findByIdAndDelete(id);
        return res.status(200).json(actor);
    } catch (error) {
        return next(error);
    }
}

module.exports = {
    getAll,
    getOne,
    postOne,
    patchOne,
    deleteOne
}
```

**`movies.controller.js`** determinamos las funciones asociadas a las rutas.

```jsx
const Movie = require('./movies.model');

// Metodo para recuperar todos las movies de nuestra DB
const getAll = async (req, res, next) => {
    try {
        // Popular datos -> sin ello te devuelve unicamente los ids de los actores
        const movies = await Movie.find().populate('actors');
        res.status(200).json(movies);
    } catch (error) {
        return next(error)
    }
}

// Metodo para recuperar una movie de nuestra DB
const getOne = async (req, res, next) => {
    try {
        const { id } = req.params;
        const movie = await Movie.findById(id).populate('actors');
        res.status(200).json(movie);
    } catch (error) {
        return next(error)
    }
}

// M√©todo para crear una nueva movie
const postOne = async (req, res, next) => {
    try {
        const movie = new Movie();
        movie.name = req.body.name;
        movie.year = req.body.year;
        movie.actors = req.body.actors;
        const movieDB = await movie.save();
        return res.status(201).json(movieDB)
    } catch (error) {
        return next(error)
    }
}

// M√©todo para modificar una movie en base a su id
const patchOne = async (req, res, next) => {
    try {
        const { id } = req.params;
        const movie = new Movie(req.body);
        movie._id = id;
        const updateMovie = await Movie.findByIdAndUpdate(id, movie);
        return res.status(200).json(updateMovie);
    } catch (error) {
        return next(error);
    }
}

// M√©todo para eliminar una movie en base a su id
const deleteOne = async (req, res, next) => {
    try {
        const { id } = req.params;
        const movie = await Movie.findByIdAndDelete(id);
        return res.status(200).json(movie);
    } catch (error) {
        return next(error);
    }
}

module.exports = {
    getAll,
    getOne,
    postOne,
    patchOne,
    deleteOne
}
```

**Definir nuestras routes**
---

Las routes son los EndPoints que funcionan como disparadores de las funciones del Controlador.

**`actors.routes.js`** endpoints asociados a la funci√≥n del controlador.

```jsx
// Es el enrutamiento | EndPoints que nos da express
const ActorRoutes = require('express').Router();

// Importaci√≥n en ES5 - M√©todos de controller
const {
    getAll,
    getOne,
    postOne,
    patchOne,
    deleteOne
} = require('./actors.controller');

// Traer todos los actores en el endpoint /all
ActorRoutes.get('/', getAll);
// Traer Actor por id
ActorRoutes.get('/:id', getOne);
// Crear un actor POST
ActorRoutes.post('/', postOne);
// Modificar Actor
ActorRoutes.patch('/:id', patchOne);
// Delete Actor
ActorRoutes.delete('/:id', deleteOne);

module.exports = ActorRoutes;
```

**`movie.routes.js`** endpoints asociados a la funci√≥n del controlador.

```jsx
// Es el enrutamiento | EndPoints que nos da express
const MovieRoutes = require('express').Router();

// Importaci√≥n en ES5 - M√©todos de controller
const {
    getAll,
    getOne,
    postOne,
    patchOne,
    deleteOne
} = require('./movies.controller');

// Traer todos los movies en el endpoint /all
MovieRoutes.get('/', getAll);
// Traer movie por id
MovieRoutes.get('/:id', getOne);
// Crear un movie POST
MovieRoutes.post('/', postOne);
// Modificar movie
MovieRoutes.patch('/:id', patchOne);
// Delete movie
MovieRoutes.delete('/:id', deleteOne);

module.exports = MovieRoutes;
```

**Usar nuestros Enpoints en el Index** 
---

Os recuerdo que el fichero principal que dispara toda nuestra aplicaci√≥n es el **`index.js`** y por ello debemos importar nuestras rutas o endPoints.

**`index.js`** es el elemento que hace de disparador de nuestro server.

```jsx
// Importar Express -> M√©todos o funciones para gestionar mi server
const express = require('express');
// Importar Cors -> Librer√≠a que gestiiona proxies o urls permitadas
const cors = require('cors');
// Importar Body-parser -> Librer√≠a transformaci√≥n de datos
const bodyParser = require('body-parser');

// Importar nuestras routes o Endpoints
const MovieRoutes = require('./src/api/movies/movies.routes');
const ActorRoutes = require('./src/api/actors/actors.routes');

// M√©todo de conexi√≥n de la DB
const { connect } = require('./src/utils/database/db');

// Ejecutar mi funci√≥n de conexi√≥n a la DB
connect();

// Inicializar Express
const app = express();

// Transformaci√≥n de datos
app.use(bodyParser.json());

// No codifica caracteres reservador que tienene un significado especial en la URI.
app.use(bodyParser.urlencoded({
    extended: false
}));

// Config de Proxies + CORS
app.use(cors());

// Cargar las rutas
app.use('/api/movies', MovieRoutes);
app.use('/api/actors', ActorRoutes);

app.use('/', (req, res, next) => {
    return res.json('Mis EndPoints son /api/movies & /api/actors')
})

// Seleccionar Puerto del .env y si no existe poner 8080
const PORT = process.env.PORT || 8080;

// Escuchadores d enuestro server
const server = app.listen(PORT, () => {
    console.log(`Server listening on port üôà: ${PORT}`)
});

// Capturador de Error
app.use((req, res, next) => {
    setImmediate(() => {
        next(new Error('Something went wrong'));
    });
});

// Errores del server 500
app.use(function (err, req, res, next) {
    console.error(err.message);
    if (!err.statusCode) err.statusCode = 500;
    res.status(err.statusCode).send(err.message);
});
```

**Probamos nuestra API REST con Insomnia**
---

Lo primero nos descargamos la versi√≥n gratuita de esta URL:

[The API Design Platform and API Client](https://insomnia.rest/)

**Mejorando nuestro `index.js`**
---

Lo primero que vamos a hacer es eliminar la dependencia de **`body-parser`** porque viene configurado en el paquete de express. En el fichero **`package.json`** ‚Üí eliminamos **`body-parser.`**

```jsx
// Importar Express -> M√©todos o funciones para gestionar mi server
const express = require('express');
// Importar Cors -> Librer√≠a que gestiiona proxies o urls permitadas
const cors = require('cors');
// M√©todo de conexi√≥n de la DB
const { connect } = require('./src/utils/database/db');
// Info API
const documentation = require('./src/utils/documentation/api.json');

// Importar nuestras routes o Endpoints
const MovieRoutes = require('./src/api/movies/movies.routes');
const ActorRoutes = require('./src/api/actors/actors.routes');

// Seleccionar Puerto del .env y si no existe poner 8080
const PORT = process.env.PORT || 8080;

// Inicializar Express
const app = express();

// Ejecutar mi funci√≥n de conexi√≥n a la DB
connect();

// Configuar mis cabeceras -> La informaci√≥n de la Petici√≥n
app.use((req, res, next) => {
    res.header('Access-Control-Allow-Methods', 'GET, PUT, POST, DELETE, PATCH')
    res.header('Access-Control-Allow-Credentials', true)
    res.header('Access-Control-Allow-Headers', 'Content-Type')
    next()
})

// Config de Proxies + CORS -> Meter vuestros dominios ej: http://acceleratorjs.dev
app.use(cors({
    origin: ['http://localhost:3000', 'http://localhost:4200'],
    credentials: true
}));

// L√≠mite de flujo de informaci√≥n
app.use(express.json({ limit: '5mb' }))

// No codifica caracteres reservador que tienene un significado especial en la URI.
app.use(express.urlencoded({
    limit: '5mb',
    extended: true
}));

// Cargar las rutas
app.use('/api/movies', MovieRoutes);
app.use('/api/actors', ActorRoutes);

// Documentation de nuestra Api
app.use('/api', (req, res, next) => {
    return res.json(documentation);
});

// Manejador de errores de rutas no encontradas
app.use('*', (req, res, next) => {
    const error = new Error();
    error.status = 404;
    error.message = 'Route not found';
    return next(error);
});

// Control de errores no esperados o del server
app.use((error, req, res, next) => {
    return res.status(error.status || 500).json(error.message || 'Unexpected error');
});

// Queremos ocultar con qu√© est√° realizada nuestra API
app.disable('x-powered-by');

// Escuchadores d enuestro server
const server = app.listen(PORT, () => {
    console.log(`Server listening on port üôà: ${PORT}`)
});
```

Documentaci√≥n b√°sica
---

Informaci√≥n de nuestra API ‚Üí dentro de la carpeta **`utils`** ‚Üí generamos otra carpeta ‚Üí `documentation` ‚Üí dentro el fichero **`api.json`**

```jsx
{
    "Movies": "/api/movies",
    "schema": {
        "name": "string",
        "year": "number",
        "actors": "Array ActorsID"
    },
    "endpoints": [
        {
            "Action": "GET",
            "URL": "/api/movies",
            "response": [
                {
                    "_id": "6228be33c5397eba91ecad18",
                    "name": "En busca de la felicidad",
                    "year": 2006,
                    "actors": [
                        {
                            "_id": "6228bdc5c5397eba91ecad17",
                            "name": "Will Smith",
                            "age": 53,
                            "updatedAt": "2022-03-09T15:10:11.021Z"
                        }
                    ]
                },
                {
                    "_id": "6228c4b41b9a1722cad70261",
                    "actors": [
                        {
                            "_id": "6228c2a11b9a1722cad7024e",
                            "name": "Leonardo Di Caprio",
                            "age": 47,
                            "createdAt": "2022-03-09T15:07:13.596Z",
                            "updatedAt": "2022-03-09T15:07:13.596Z",
                            "__v": 0
                        }
                    ],
                    "name": "El gran Gatsby",
                    "year": 2013,
                    "createdAt": "2022-03-09T15:16:04.077Z",
                    "updatedAt": "2022-03-09T15:16:04.077Z",
                    "__v": 0
                }
            ]
        },
        {
            "Action": "GET",
            "URL": "/api/movies/id",
            "response": {
                "_id": "6228be33c5397eba91ecad18",
                "name": "En busca de la felicidad",
                "year": 2006,
                "actors": [
                    {
                        "_id": "6228bdc5c5397eba91ecad17",
                        "name": "Will Smith",
                        "age": 53,
                        "updatedAt": "2022-03-09T15:10:11.021Z"
                    }
                ]
            }
        },
        {
            "Action": "POST",
            "URL": "/api/movies",
            "request-body": {
                "name": "El gran Invento",
                "year": 2013,
                "actors": ["6228c2a11b9a1722cad7024e", "6228bdc5c5397eba91ecad17"]
		        },
		        "response": {
		            "actors": [
		                "6228c2a11b9a1722cad7024e",
		                "6228bdc5c5397eba91ecad17"
		            ],
		            "_id": "6229bc8d14efa4d872756d2e",
		            "name": "El gran Invento",
		            "year": 2013,
		            "createdAt": "2022-03-10T08:53:33.169Z",
		            "updatedAt": "2022-03-10T08:53:33.169Z",
		            "__v": 0
		        }
        }
    ]
}
```

en nuestro **`index.js`** a√±adimos la info.

```jsx
// Info API
const documentation = require('./src/utils/documentation/api.json');
// Documentation de nuestra Api
app.use('/api', (req, res, next) => {
    return res.json(documentation);
});
```

Y el resultado ser√≠a cuando vayamos a [http://localhost:8000/api](http://localhost:8000/api)